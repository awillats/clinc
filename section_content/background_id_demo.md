![](/figures/misc_figure_sketches/circuit_walkthrough_2circuits_key_sketch.png "generated by /code/fig_circuit_walkthrough.py")
> (img close to final draft) **Figure DEMO: Applying CLINC to distinguish a pair of circuits**

---
<details><summary>↪2,3 circuit versions, straight from code</summary>

![](/code/network_analysis/results/circuit_walkthrough_2circuits.png "generated by /code/fig_circuit_walkthrough.py")
![](/code/network_analysis/results/circuit_walkthrough_3circuits.png "generated by /code/fig_circuit_walkthrough.py")
> 3 circuit walkthrough, walkthrough will all intervention locations might be appropriate for the supplement

</details>


<details><summary>↪to do items</summary>

- [ ] find and include frequent circuit (curto + motif)
- [ ] wrap circuits we want in `example_circuits.py`
- [ ] alt method of displaying indirect paths?
  - https://networkx.org/documentation/stable/reference/algorithms/generated/networkx.algorithms.simple_paths.all_simple_paths.html#networkx.algorithms.simple_paths.all_simple_paths
</details>

<details><summary> ↪see also</summary>

more inspiration:
- Combining multiple functional connectivity methods to improve causal inferences
- Advancing functional connectivity research from association to causation
- Fig1. of "Systematic errors in connectivity"

![](/code/network_analysis/results/effect_of_control_horiz.png)
![](/figures/misc_figure_sketches/two_circuit_case_study_mockup.png)

> this figure does a great job of:
> - setting up a key 
> - incrementally adding confounds 
> - highlighting severed edges
> this figure does NOT 
> - explicitly address mutliple hypotheses

![](/figures/misc_figure_sketches/closed_loop_severs_inputs.png)
**Figure 11: Closed-loop control compensates for inputs to a node in simple circuits:** The left column shows a simple circuit and recording and stimulation sites for an open-loop experiment. The right column shows the functional circuit which results from closed-loop control of the output of region A. Generally, assuming perfectly effective control, the impact of other inputs to a controlled node is nullified and therefore crossed off the functional circuit diagram.

> this figure does a great job of:
> - using a minimal version of the key above 
> - showing two competing hypotheses
> - (throughs latent / common modulation in for fun)

![](/figures/misc_figure_sketches/closed_loop_distinguishes_corticalEI.png)
**Figure 12: Closed-loop control allows for two circuit hypotheses to be distinguished.** Two hypothesized circuits for the relationships between pyramidal (Pyr, excitatory), parvalbumin-positive (PV, inhibitory), and somatostain-expressing (Som, inhibitory) cells are shown in the two rows. Dashed lines in the right column represent connections whose effects are compensated for through closed-loop control of the Pyr node. By measuring correlations between recorded regions during closed-loop control it is possible to distinguish which hypothesized circuit better matches the data. Notably in the open-loop intervention, activity in all regions is correlated for both hypothesized circuits leading to ambiguity.
</details>

<details><summary>↪more notes</summary>

probably want 
- two circuits which look clearly different
  - ! but which have equivalent reachability 
  - possibly with reciprocal connections 
  - possssibly with common modulation 

- do we need to reflect back from set of possible observations to consistent hypotheses? 
  - mention markov equivalence classes explicitly?
  
- intuitive explanation using binary reachability rules
  <!-- - consider postponing until we introduce intervention? 
  - i.e. have one figure that walks through both reachability and impact of intervention -->
- *point to the rest of the paper as deepening and generalizing these ideas*
- *(example papers - Advancing functional connectivity research from association to causation, Combining multiple functional connectivity methods to improve causal inferences)*
      
- connect **graded reachability** to ID-SNR 
  - $\mathrm{IDSNR}_{ij}$ measures the strength of signal related to the connection $i→j$ relative to in the output of node $j$ 
  - for true, direct connections this quantity increasing means a (true positive) connection will be identified more easily (with high certainty, requiring less data)
  - for false or indirect connections, this quantity increasing means a false positive connection is more likely to be identified
  - as a result we want to maximize IDSNR for true links, and minimize it for false/indirect links 


( see also `sketches_and_notation/walkthrough_EI_dissection.md` )


</details>